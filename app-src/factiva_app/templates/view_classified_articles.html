<!DOCTYPE html>
<html>
<head>
    <title>Articles Classifiés</title>
</head>
<body>
    <h1>Articles Classifiés</h1>
    <p>Période sélectionnée : {{ start_date }} - {{ end_date }}</p>
    <br>
    <p>Sources sélectionnées : 
        {% if selected_sources %}
            {{ selected_sources|join:", " }}
        {% else %}
            Toutes les sources
        {% endif %}
    </p>
    <p>Nombre d'articles retournés : {{ nombre_articles }}</p>
    <br>
    <a href="{% url 'download_excel' %}">Télécharger le fichier Excel</a>
    <br><br>
    <a href="/">Retour à l'accueil</a>
    <br><br>
    
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background-color: #005f99; color: #ffffff;">
                <th style="border: 1px solid #003f66; padding: 8px;">Titre</th>
                <th style="border: 1px solid #003f66; padding: 8px;">Label</th>
                <th style="border: 1px solid #003f66; padding: 8px;">Expressions Détectées</th>
                <th style="border: 1px solid #003f66; padding: 8px;">Date de publication</th>
                <th style="border: 1px solid #003f66; padding: 8px;">Code source</th>
                <th style="border: 1px solid #003f66; padding: 8px;">Éditeur</th>
                <th style="border: 1px solid #003f66; padding: 8px;">Contenu</th>
            </tr>
        </thead>
        <tbody>
            {% for article in classified_articles %}
            <tr style="border: 1px solid #003f66;">
                <td style="border: 1px solid #003f66; padding: 8px;">{{ article.title }}</td>
                <td style="border: 1px solid #003f66; padding: 8px;">{{ article.label }}</td>
                <td style="border: 1px solid #003f66; padding: 8px;">
                    {% if article.expressions_detectees %}
                        {{ article.expressions_detectees }}
                    {% else %}
                        Aucune expression détectée
                    {% endif %}
                </td>
                <td style="border: 1px solid #003f66; padding: 8px;">{{ article.publication_date }}</td>
                <td style="border: 1px solid #003f66; padding: 8px;">{{ article.source_code }}</td>
                <td style="border: 1px solid #003f66; padding: 8px;">{{ article.publisher }}</td>
                <td style="border: 1px solid #003f66; padding: 8px;">{{ article.content }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>
    <button href="/">Retour à l'accueil</button>
</body>
</html>